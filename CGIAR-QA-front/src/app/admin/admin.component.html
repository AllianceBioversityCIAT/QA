<div class="row align-items-start">
    <div class="col-sm-2 card-left">
        <h4 class="">Admin Menu</h4>

        <div class="btn-group-vertical col">
            <button type="button" (click)="selectRole('')" class="btn btn-secondary">All</button>
            <button type="button" (click)="selectRole(allRoles.admin)" class="btn btn-secondary">Assign
                Administrator</button>
            <button type="button" (click)="selectRole(allRoles.assesor)" class="btn btn-secondary">Assign
                Assesors</button>
            <button type="button" (click)="selectRole(allRoles.guest)" class="btn btn-secondary">Assign Guest</button>
        </div>
    </div>

    <div class="col-md-6 admin-users-container">
        <h2 class="header">List of Evaluators</h2>
        <div class="users-card-container">
            <div class="card" *ngFor="let user of users | filterByRole:selectedRole ">
                <div class="card-header row justify-content-between" id="heading-{{user.id}}">
                    <h4>{{user.username}} - {{user.role}}</h4>
                    <div class="button-card-container">
                        <button type="button" (click)="user.isCollapsed = !user.isCollapsed"
                            [attr.aria-expanded]="!user.isCollapsed" aria-controls="collapseBasic" class="btn">
                            <i class="icon-edit"></i>
                        </button>
                        <button type="button" class="btn">
                            <i class="icon-remove"></i>
                        </button>
                    </div>
                </div>
                <div id="collapse-{{user.id}}" [collapse]="user.isCollapsed" [isAnimated]="true">
                    <div class="card-body">
                        Assigned Indicators
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="selectedRole !==''" class="admin-add-users">
            <p>Add {{selectedRole}} </p>
            <div class="card">
                <div class="card-body">
                    <!-- /(ngSubmit)="onSubmit()" -->
                    <form [formGroup]="addUserForm" class="add-user-form" >
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" formControlName="name" class="form-control"
                                [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                            <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                                <div *ngIf="f.name.errors.required">Name is required</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" formControlName="email" class="form-control"
                                [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
                            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">Email is required</div>
                                <div *ngIf="f.email.errors.email">Incorrect email format</div>
                            </div>
                        </div>
                        <div class="form-group indicators" *ngIf="selectedRole === allRoles.assesor">
                            <label for="indicators">Assign Indicators</label>
                            <type-ahead multi="true" formControlName="indicators" [suggestions]="suggestedIndicators"></type-ahead>
                        </div>
                        <div class="form-group col-4">
                            <button [disabled]="loading" (click)="addUser()" class="btn btn-primary">
                                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                                Add
                            </button>
                        </div>
                    </form>

                </div>
            </div>

        </div>
    </div>
</div>